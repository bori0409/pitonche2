BROADCAST_TO_PORT = 7000
import time
from socket import *
from datetime import datetime
from sense_hat import SenseHat
from time import sleep

sense = SenseHat()
orientation = sense.get_orientation_degrees()
   
s = socket(AF_INET, SOCK_DGRAM)
#s.bind(('', 14593))     # (ip, port)
# no explicit bind: will bind to default IP + random port
s.setsockopt(SOL_SOCKET, SO_BROADCAST, 1)
while True:
	orientation = sense.get_orientation_degrees()
	data = "Current time " + str(datetime.now()) +  "Roll" +  str(orientation['roll'])+"Yaw" + str(orientation['yaw'])+"Pitch" +  str(orientation['pitch'])
	data2= "Roll" +  str(orientation['roll'])
	data3= "Yaw" + str(orientation['yaw'])
	data4= "Pitch" +  str(orientation['pitch'])
	s.sendto(bytes(data, "UTF-8"), ('<broadcast>', BROADCAST_TO_PORT))
	s.sendto(bytes(data2, "UTF-8"), ('<broadcast>', BROADCAST_TO_PORT))
	s.sendto(bytes(data3, "UTF-8"), ('<broadcast>', BROADCAST_TO_PORT))
	s.sendto(bytes(data4, "UTF-8"), ('<broadcast>', BROADCAST_TO_PORT))
	print(data2)
	print(data)
	print(data3)
	print(data4)
	time.sleep(1)
